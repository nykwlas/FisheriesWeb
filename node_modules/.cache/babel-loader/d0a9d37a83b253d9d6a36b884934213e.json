{"ast":null,"code":"import _classCallCheck from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'recompose';import{withFirebase}from'../Firebase';var UserItem=/*#__PURE__*/function(_Component){_inherits(UserItem,_Component);var _super=_createSuper(UserItem);function UserItem(props){var _this;_classCallCheck(this,UserItem);_this=_super.call(this,props);_this.onSendPasswordResetEmail=function(){_this.props.firebase.doPasswordReset(_this.props.user.email);};_this.state={loading:false};return _this;}_createClass(UserItem,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!this.props.user){this.setState({loading:true});}this.props.firebase.user(this.props.match.params.id).on('value',function(snapshot){_this2.props.onSetUser(snapshot.val(),_this2.props.match.params.id);_this2.setState({loading:false});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.firebase.user(this.props.match.params.id).off();}},{key:\"render\",value:function render(){var user=this.props.user;var loading=this.state.loading;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"User (\",this.props.match.params.id,\")\"),loading&&/*#__PURE__*/React.createElement(\"div\",null,\"Loading ...\"),user&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"ID:\"),\" \",user.uid),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"E-Mail:\"),\" \",user.email),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Username:\"),\" \",user.username),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.onSendPasswordResetEmail},\"Send Password Reset\"))));}}]);return UserItem;}(Component);var mapStateToProps=function mapStateToProps(state,props){return{user:(state.userState.users||{})[props.match.params.id]};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onSetUser:function onSetUser(user,uid){return dispatch({type:'USER_SET',user:user,uid:uid});}};};export default compose(withFirebase,connect(mapStateToProps,mapDispatchToProps))(UserItem);","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/Users/UserItem.js"],"names":["React","Component","connect","compose","withFirebase","UserItem","props","onSendPasswordResetEmail","firebase","doPasswordReset","user","email","state","loading","setState","match","params","id","on","snapshot","onSetUser","val","off","uid","username","mapStateToProps","userState","users","mapDispatchToProps","dispatch","type"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,WAAxB,CAEA,OAASC,YAAT,KAA6B,aAA7B,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EADiB,MA6BnBC,wBA7BmB,CA6BQ,UAAM,CAC/B,MAAKD,KAAL,CAAWE,QAAX,CAAoBC,eAApB,CAAoC,MAAKH,KAAL,CAAWI,IAAX,CAAgBC,KAApD,EACD,CA/BkB,CAGjB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,KADE,CAAb,CAHiB,aAMlB,C,kFAEmB,iBAClB,GAAI,CAAC,KAAKP,KAAL,CAAWI,IAAhB,CAAsB,CACpB,KAAKI,QAAL,CAAc,CAAED,OAAO,CAAE,IAAX,CAAd,EACD,CAED,KAAKP,KAAL,CAAWE,QAAX,CACGE,IADH,CACQ,KAAKJ,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,EADhC,EAEGC,EAFH,CAEM,OAFN,CAEe,SAAAC,QAAQ,CAAI,CACvB,MAAI,CAACb,KAAL,CAAWc,SAAX,CACED,QAAQ,CAACE,GAAT,EADF,CAEE,MAAI,CAACf,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,EAF1B,EAKA,MAAI,CAACH,QAAL,CAAc,CAAED,OAAO,CAAE,KAAX,CAAd,EACD,CATH,EAUD,C,mEAEsB,CACrB,KAAKP,KAAL,CAAWE,QAAX,CAAoBE,IAApB,CAAyB,KAAKJ,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,EAAjD,EAAqDK,GAArD,GACD,C,uCAMQ,IACCZ,CAAAA,IADD,CACU,KAAKJ,KADf,CACCI,IADD,IAECG,CAAAA,OAFD,CAEa,KAAKD,KAFlB,CAECC,OAFD,CAIP,mBACE,4CACE,uCAAW,KAAKP,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBC,EAAnC,KADF,CAEGJ,OAAO,eAAI,6CAFd,CAIGH,IAAI,eACH,4CACE,6CACE,wCADF,KACwBA,IAAI,CAACa,GAD7B,CADF,cAIE,6CACE,4CADF,KAC4Bb,IAAI,CAACC,KADjC,CAJF,cAOE,6CACE,8CADF,KAC8BD,IAAI,CAACc,QADnC,CAPF,cAUE,6CACE,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,KAAKjB,wBAFhB,wBADF,CAVF,CALJ,CADF,CA4BD,C,sBAlEoBN,S,EAqEvB,GAAMwB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACb,KAAD,CAAQN,KAAR,QAAmB,CACzCI,IAAI,CAAE,CAACE,KAAK,CAACc,SAAN,CAAgBC,KAAhB,EAAyB,EAA1B,EAA8BrB,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,EAAjD,CADmC,CAAnB,EAAxB,CAIA,GAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCT,SAAS,CAAE,mBAACV,IAAD,CAAOa,GAAP,QAAeM,CAAAA,QAAQ,CAAC,CAAEC,IAAI,CAAE,UAAR,CAAoBpB,IAAI,CAAJA,IAApB,CAA0Ba,GAAG,CAAHA,GAA1B,CAAD,CAAvB,EAD2B,CAAL,EAAnC,CAIA,cAAepB,CAAAA,OAAO,CACpBC,YADoB,CAEpBF,OAAO,CACLuB,eADK,CAELG,kBAFK,CAFa,CAAP,CAMbvB,QANa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\n\nclass UserItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.user) {\n      this.setState({ loading: true });\n    }\n\n    this.props.firebase\n      .user(this.props.match.params.id)\n      .on('value', snapshot => {\n        this.props.onSetUser(\n          snapshot.val(),\n          this.props.match.params.id,\n        );\n\n        this.setState({ loading: false });\n      });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.user(this.props.match.params.id).off();\n  }\n\n  onSendPasswordResetEmail = () => {\n    this.props.firebase.doPasswordReset(this.props.user.email);\n  };\n\n  render() {\n    const { user } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>User ({this.props.match.params.id})</h2>\n        {loading && <div>Loading ...</div>}\n\n        {user && (\n          <div>\n            <span>\n              <strong>ID:</strong> {user.uid}\n            </span>\n            <span>\n              <strong>E-Mail:</strong> {user.email}\n            </span>\n            <span>\n              <strong>Username:</strong> {user.username}\n            </span>\n            <span>\n              <button\n                type=\"button\"\n                onClick={this.onSendPasswordResetEmail}\n              >\n                Send Password Reset\n              </button>\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  user: (state.userState.users || {})[props.match.params.id],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUser: (user, uid) => dispatch({ type: 'USER_SET', user, uid }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(UserItem);\n"]},"metadata":{},"sourceType":"module"}