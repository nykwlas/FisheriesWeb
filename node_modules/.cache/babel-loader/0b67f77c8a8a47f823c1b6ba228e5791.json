{"ast":null,"code":"import _objectSpread from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{compose}from'recompose';import{withFirebase}from'../Firebase';import*as ROUTES from'../../constants/routes';var UserList=/*#__PURE__*/function(_Component){_inherits(UserList,_Component);var _super=_createSuper(UserList);function UserList(props){var _this;_classCallCheck(this,UserList);_this=_super.call(this,props);_this.state={loading:false};return _this;}_createClass(UserList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(!this.props.users.length){this.setState({loading:true});}this.props.firebase.users().on('value',function(snapshot){_this2.props.onSetUsers(snapshot.val());_this2.setState({loading:false});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.firebase.users().off();}},{key:\"render\",value:function render(){var users=this.props.users;var loading=this.state.loading;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Users\"),loading&&/*#__PURE__*/React.createElement(\"div\",null,\"Loading ...\"),/*#__PURE__*/React.createElement(\"ul\",null,users.map(function(user){return/*#__PURE__*/React.createElement(\"li\",{key:user.uid},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"ID:\"),\" \",user.uid),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"E-Mail:\"),\" \",user.email),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Username:\"),\" \",user.username),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{to:\"\".concat(ROUTES.ADMIN,\"/\").concat(user.uid)},\"Details\")));})));}}]);return UserList;}(Component);var mapStateToProps=function mapStateToProps(state){return{users:Object.keys(state.userState.users||{}).map(function(key){return _objectSpread({},state.userState.users[key],{uid:key});})};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onSetUsers:function onSetUsers(users){return dispatch({type:'USERS_SET',users:users});}};};export default compose(withFirebase,connect(mapStateToProps,mapDispatchToProps))(UserList);","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/Users/UserList.js"],"names":["React","Component","Link","connect","compose","withFirebase","ROUTES","UserList","props","state","loading","users","length","setState","firebase","on","snapshot","onSetUsers","val","off","map","user","uid","email","username","ADMIN","mapStateToProps","Object","keys","userState","key","mapDispatchToProps","dispatch","type"],"mappings":"osBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,WAAxB,CAEA,OAASC,YAAT,KAA6B,aAA7B,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,wBAAxB,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,KADE,CAAb,CAHiB,aAMlB,C,kFAEmB,iBAClB,GAAI,CAAC,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAtB,CAA8B,CAC5B,KAAKC,QAAL,CAAc,CAAEH,OAAO,CAAE,IAAX,CAAd,EACD,CAED,KAAKF,KAAL,CAAWM,QAAX,CAAoBH,KAApB,GAA4BI,EAA5B,CAA+B,OAA/B,CAAwC,SAAAC,QAAQ,CAAI,CAClD,MAAI,CAACR,KAAL,CAAWS,UAAX,CAAsBD,QAAQ,CAACE,GAAT,EAAtB,EAEA,MAAI,CAACL,QAAL,CAAc,CAAEH,OAAO,CAAE,KAAX,CAAd,EACD,CAJD,EAKD,C,mEAEsB,CACrB,KAAKF,KAAL,CAAWM,QAAX,CAAoBH,KAApB,GAA4BQ,GAA5B,GACD,C,uCAEQ,IACCR,CAAAA,KADD,CACW,KAAKH,KADhB,CACCG,KADD,IAECD,CAAAA,OAFD,CAEa,KAAKD,KAFlB,CAECC,OAFD,CAIP,mBACE,4CACE,sCADF,CAEGA,OAAO,eAAI,6CAFd,cAGE,8BACGC,KAAK,CAACS,GAAN,CAAU,SAAAC,IAAI,qBACb,0BAAI,GAAG,CAAEA,IAAI,CAACC,GAAd,eACE,6CACE,wCADF,KACwBD,IAAI,CAACC,GAD7B,CADF,cAIE,6CACE,4CADF,KAC4BD,IAAI,CAACE,KADjC,CAJF,cAOE,6CACE,8CADF,KAC8BF,IAAI,CAACG,QADnC,CAPF,cAUE,6CACE,oBAAC,IAAD,EAAM,EAAE,WAAKlB,MAAM,CAACmB,KAAZ,aAAqBJ,IAAI,CAACC,GAA1B,CAAR,YADF,CAVF,CADa,EAAd,CADH,CAHF,CADF,CA0BD,C,sBAvDoBrB,S,EA0DvB,GAAMyB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAjB,KAAK,QAAK,CAChCE,KAAK,CAAEgB,MAAM,CAACC,IAAP,CAAYnB,KAAK,CAACoB,SAAN,CAAgBlB,KAAhB,EAAyB,EAArC,EAAyCS,GAAzC,CAA6C,SAAAU,GAAG,0BAClDrB,KAAK,CAACoB,SAAN,CAAgBlB,KAAhB,CAAsBmB,GAAtB,CADkD,EAErDR,GAAG,CAAEQ,GAFgD,IAAhD,CADyB,CAAL,EAA7B,CAOA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCf,UAAU,CAAE,oBAAAN,KAAK,QAAIqB,CAAAA,QAAQ,CAAC,CAAEC,IAAI,CAAE,WAAR,CAAqBtB,KAAK,CAALA,KAArB,CAAD,CAAZ,EADqB,CAAL,EAAnC,CAIA,cAAeP,CAAAA,OAAO,CACpBC,YADoB,CAEpBF,OAAO,CACLuB,eADK,CAELK,kBAFK,CAFa,CAAP,CAMbxB,QANa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.users.length) {\n      this.setState({ loading: true });\n    }\n\n    this.props.firebase.users().on('value', snapshot => {\n      this.props.onSetUsers(snapshot.val());\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const { users } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>Users</h2>\n        {loading && <div>Loading ...</div>}\n        <ul>\n          {users.map(user => (\n            <li key={user.uid}>\n              <span>\n                <strong>ID:</strong> {user.uid}\n              </span>\n              <span>\n                <strong>E-Mail:</strong> {user.email}\n              </span>\n              <span>\n                <strong>Username:</strong> {user.username}\n              </span>\n              <span>\n                <Link to={`${ROUTES.ADMIN}/${user.uid}`}>\n                  Details\n                </Link>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: Object.keys(state.userState.users || {}).map(key => ({\n    ...state.userState.users[key],\n    uid: key,\n  })),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUsers: users => dispatch({ type: 'USERS_SET', users }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(UserList);\n"]},"metadata":{},"sourceType":"module"}