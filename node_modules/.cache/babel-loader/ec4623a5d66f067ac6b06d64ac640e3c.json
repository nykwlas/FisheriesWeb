{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/FisheriesWeb/src/components/SignIn/index.js\";\nimport React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBBtn, MDBIcon, MDBModalFooter } from 'mdbreact';\nimport { SignUpLink } from '../SignUp';\nimport { PasswordForgetLink } from '../PasswordForget';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignInPage = () => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(SignInForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }\n}));\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n  errorFb: null,\n  errorGoogle: null,\n  errorTwitter: null\n};\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/account-exists-with-different-credential';\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n`;\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      const {\n        email,\n        password\n      } = this.state;\n      this.props.firebase.doSignInWithEmailAndPassword(email, password).then(() => {\n        this.setState({ ...INITIAL_STATE\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.onSubmitGoogle = event => {\n      this.props.firebase.doSignInWithGoogle().then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {}\n        });\n      }).then(() => {\n        this.setState({\n          errorGoogle: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = { ...INITIAL_STATE\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      error\n    } = this.state;\n    const isInvalid = password === '' || email === '';\n    return /*#__PURE__*/React.createElement(MDBContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBCardBody, {\n      className: \"mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"dark-grey-text mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, \"Sign in\"))), /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Your email\",\n      name: \"email\",\n      group: true,\n      type: \"email\",\n      validate: true,\n      value: email,\n      onChange: this.onChange,\n      error: \"wrong\",\n      success: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Your password\",\n      name: \"password\",\n      group: true,\n      type: \"password\",\n      value: password,\n      onChange: this.onChange,\n      validate: true,\n      containerClass: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-small blue-text d-flex justify-content-end pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: ROUTES.PASSWORD_FORGET,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, \"Forgot Password?\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"button\",\n      gradient: \"blue\",\n      rounded: true,\n      disabled: isInvalid,\n      onClick: this.onSubmit,\n      className: \"btn-block z-depth-1a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, \"Sign in\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, error.message)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-small dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, \"or Sign in with:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row my-3 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      className: \"mr-md-3 z-depth-1a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"facebook-f\",\n      className: \"blue-text text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      className: \"mr-md-3 z-depth-1a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"twitter\",\n      className: \"blue-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      onClick: onSubmitGoogle,\n      className: \"z-depth-1a\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"google-plus-g\",\n      className: \"blue-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(MDBModalFooter, {\n      className: \"mx-5 pt-3 mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-small grey-text d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, \"Not a member?\", /*#__PURE__*/React.createElement(Link, {\n      to: ROUTES.SIGN_UP,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, \"Sign Up\"))))))); // return (\n    //   <form onSubmit={this.onSubmit}>\n    //     <input\n    //       name=\"email\"\n    //       value={email}\n    //       onChange={this.onChange}\n    //       type=\"text\"\n    //       placeholder=\"Email Address\"\n    //     />\n    //     <input\n    //       name=\"password\"\n    //       value={password}\n    //       onChange={this.onChange}\n    //       type=\"password\"\n    //       placeholder=\"Password\"\n    //     />\n    //     <button disabled={isInvalid} type=\"submit\">\n    //       Sign In\n    //     </button>\n    //     {error && <p>{error.message}</p>}\n    //   </form>\n    // );\n  }\n\n}\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      this.props.firebase.doSignInWithGoogle().then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {}\n        });\n      }).then(() => {\n        this.setState({\n          error: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      error: null\n    };\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }\n    }, \"Sign In with Google\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, error.message));\n  }\n\n}\n\nclass SignInFacebookBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      this.props.firebase.doSignInWithFacebook().then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {}\n        });\n      }).then(() => {\n        this.setState({\n          error: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      error: null\n    };\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }\n    }, \"Sign In with Facebook\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 19\n      }\n    }, error.message));\n  }\n\n}\n\nclass SignInTwitterBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      this.props.firebase.doSignInWithTwitter().then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {}\n        });\n      }).then(() => {\n        this.setState({\n          error: null\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.state = {\n      error: null\n    };\n  }\n\n  render() {\n    const {\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }\n    }, \"Sign In with Twitter\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 19\n      }\n    }, error.message));\n  }\n\n}\n\nconst SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\nconst SignInGoogle = compose(withRouter, withFirebase)(SignInGoogleBase);\nconst SignInFacebook = compose(withRouter, withFirebase)(SignInFacebookBase);\nconst SignInTwitter = compose(withRouter, withFirebase)(SignInTwitterBase);\nexport default SignInPage;\nexport { SignInForm, SignInGoogle, SignInFacebook, SignInTwitter };","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/SignIn/index.js"],"names":["React","Component","withRouter","Link","compose","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBInput","MDBBtn","MDBIcon","MDBModalFooter","SignUpLink","PasswordForgetLink","withFirebase","ROUTES","SignInPage","INITIAL_STATE","email","password","error","errorFb","errorGoogle","errorTwitter","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignInFormBase","constructor","props","onSubmit","event","state","firebase","doSignInWithEmailAndPassword","then","setState","history","push","HOME","catch","preventDefault","onSubmitGoogle","doSignInWithGoogle","socialAuthUser","user","uid","set","username","displayName","roles","code","message","onChange","target","name","value","render","isInvalid","PASSWORD_FORGET","SIGN_UP","SignInGoogleBase","SignInFacebookBase","doSignInWithFacebook","additionalUserInfo","profile","SignInTwitterBase","doSignInWithTwitter","SignInForm","SignInGoogle","SignInFacebook","SignInTwitter"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,EAAuBC,MAAvB,EAA+BC,MAA/B,EAAuCC,OAAvC,EAAgDC,WAAhD,EAA6DC,QAA7D,EAAuEC,MAAvE,EAA+EC,OAA/E,EAAwFC,cAAxF,QAA8G,UAA9G;AAEA,SAASC,UAAT,QAA2B,WAA3B;AACA,SAASC,kBAAT,QAAmC,mBAAnC;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;;AAEA,MAAMC,UAAU,GAAG,mBACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAFF,CADF;;AAYA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAE,EADa;AAEpBC,EAAAA,QAAQ,EAAE,EAFU;AAGpBC,EAAAA,KAAK,EAAE,IAHa;AAIpBC,EAAAA,OAAO,EAAE,IAJW;AAKpBC,EAAAA,WAAW,EAAE,IALO;AAMpBC,EAAAA,YAAY,EAAE;AANM,CAAtB;AASA,MAAMC,yBAAyB,GAC7B,+CADF;AAGA,MAAMC,wBAAwB,GAAI;;;;;CAAlC;;AAOA,MAAMC,cAAN,SAA6B3B,SAA7B,CAAuC;AACrC4B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,QANmB,GAMRC,KAAK,IAAI;AAClB,YAAM;AAAEZ,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAsB,KAAKY,KAAjC;AAEA,WAAKH,KAAL,CAAWI,QAAX,CACGC,4BADH,CACgCf,KADhC,EACuCC,QADvC,EAEGe,IAFH,CAEQ,MAAM;AACV,aAAKC,QAAL,CAAc,EAAE,GAAGlB;AAAL,SAAd;AACA,aAAKW,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B;AACD,OALH,EAMGC,KANH,CAMSnB,KAAK,IAAI;AACd,aAAKe,QAAL,CAAc;AAAEf,UAAAA;AAAF,SAAd;AACD,OARH;AAUAU,MAAAA,KAAK,CAACU,cAAN;AACD,KApBkB;;AAAA,SAsBnBC,cAtBmB,GAsBFX,KAAK,IAAI;AACxB,WAAKF,KAAL,CAAWI,QAAX,CACGU,kBADH,GAEGR,IAFH,CAEQS,cAAc,IAAI;AACtB;AACA,eAAO,KAAKf,KAAL,CAAWI,QAAX,CAAoBY,IAApB,CAAyBD,cAAc,CAACC,IAAf,CAAoBC,GAA7C,EAAkDC,GAAlD,CAAsD;AAC3DC,UAAAA,QAAQ,EAAEJ,cAAc,CAACC,IAAf,CAAoBI,WAD6B;AAE3D9B,UAAAA,KAAK,EAAEyB,cAAc,CAACC,IAAf,CAAoB1B,KAFgC;AAG3D+B,UAAAA,KAAK,EAAE;AAHoD,SAAtD,CAAP;AAKD,OATH,EAUGf,IAVH,CAUQ,MAAM;AACV,aAAKC,QAAL,CAAc;AAAEb,UAAAA,WAAW,EAAE;AAAf,SAAd;AACA,aAAKM,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B;AACD,OAbH,EAcGC,KAdH,CAcSnB,KAAK,IAAI;AACd,YAAIA,KAAK,CAAC8B,IAAN,KAAe1B,yBAAnB,EAA8C;AAC5CJ,UAAAA,KAAK,CAAC+B,OAAN,GAAgB1B,wBAAhB;AACD;;AAED,aAAKU,QAAL,CAAc;AAAEf,UAAAA;AAAF,SAAd;AACD,OApBH;AAsBAU,MAAAA,KAAK,CAACU,cAAN;AACD,KA9CkB;;AAAA,SAgDnBY,QAhDmB,GAgDRtB,KAAK,IAAI;AAClB,WAAKK,QAAL,CAAc;AAAE,SAACL,KAAK,CAACuB,MAAN,CAAaC,IAAd,GAAqBxB,KAAK,CAACuB,MAAN,CAAaE;AAApC,OAAd;AACD,KAlDkB;;AAGjB,SAAKxB,KAAL,GAAa,EAAE,GAAGd;AAAL,KAAb;AACD;;AAgDDuC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEtC,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKW,KAAxC;AAEA,UAAM0B,SAAS,GAAGtC,QAAQ,KAAK,EAAb,IAAmBD,KAAK,KAAK,EAA/C;AACA,wBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,CADF,eAME,oBAAC,QAAD;AACE,MAAA,KAAK,EAAC,YADR;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,KAAK,MAHP;AAIE,MAAA,IAAI,EAAC,OAJP;AAKE,MAAA,QAAQ,MALV;AAME,MAAA,KAAK,EAAEA,KANT;AAOE,MAAA,QAAQ,EAAE,KAAKkC,QAPjB;AAQE,MAAA,KAAK,EAAC,OARR;AASE,MAAA,OAAO,EAAC,OATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAiBE,oBAAC,QAAD;AACE,MAAA,KAAK,EAAC,eADR;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,MAHP;AAIE,MAAA,IAAI,EAAC,UAJP;AAKE,MAAA,KAAK,EAAEjC,QALT;AAME,MAAA,QAAQ,EAAE,KAAKiC,QANjB;AAOE,MAAA,QAAQ,MAPV;AAQE,MAAA,cAAc,EAAC,MARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBF,eA2BE;AAAG,MAAA,SAAS,EAAC,sDAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAErC,MAAM,CAAC2C,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,CA3BF,eA8BE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,QAAQ,EAAC,MAFX;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,QAAQ,EAAED,SAJZ;AAKE,MAAA,OAAO,EAAE,KAAK5B,QALhB;AAME,MAAA,SAAS,EAAC,sBANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAWGT,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAK,CAAC+B,OAAV,CAXZ,CA9BF,eA2CE;AAAG,MAAA,SAAS,EAAC,8EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA3CF,eA+CE;AAAK,MAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,OAFR;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,SAAS,EAAC,oBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,YAAlB;AAA+B,MAAA,SAAS,EAAC,uBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF,eASE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,OAFR;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,SAAS,EAAC,oBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,SAAlB;AAA4B,MAAA,SAAS,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CATF,eAiBE,oBAAC,MAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,OAFR;AAGE,MAAA,OAAO,MAHT;AAIE,MAAA,OAAO,EAAEV,cAJX;AAKE,MAAA,SAAS,EAAC,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,eAAlB;AAAkC,MAAA,SAAS,EAAC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAjBF,CA/CF,CADF,eA4EE,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,iDAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE1B,MAAM,CAAC4C,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADF,CA5EF,CADF,CADF,CADF,CADF,CAJO,CA+FP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACD;;AA3KoC;;AA8KvC,MAAMC,gBAAN,SAA+B7D,SAA/B,CAAyC;AACvC4B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,QANmB,GAMRC,KAAK,IAAI;AAClB,WAAKF,KAAL,CAAWI,QAAX,CACGU,kBADH,GAEGR,IAFH,CAEQS,cAAc,IAAI;AACtB;AACA,eAAO,KAAKf,KAAL,CAAWI,QAAX,CAAoBY,IAApB,CAAyBD,cAAc,CAACC,IAAf,CAAoBC,GAA7C,EAAkDC,GAAlD,CAAsD;AAC3DC,UAAAA,QAAQ,EAAEJ,cAAc,CAACC,IAAf,CAAoBI,WAD6B;AAE3D9B,UAAAA,KAAK,EAAEyB,cAAc,CAACC,IAAf,CAAoB1B,KAFgC;AAG3D+B,UAAAA,KAAK,EAAE;AAHoD,SAAtD,CAAP;AAKD,OATH,EAUGf,IAVH,CAUQ,MAAM;AACV,aAAKC,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAE;AAAT,SAAd;AACA,aAAKQ,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B;AACD,OAbH,EAcGC,KAdH,CAcSnB,KAAK,IAAI;AACd,YAAIA,KAAK,CAAC8B,IAAN,KAAe1B,yBAAnB,EAA8C;AAC5CJ,UAAAA,KAAK,CAAC+B,OAAN,GAAgB1B,wBAAhB;AACD;;AAED,aAAKU,QAAL,CAAc;AAAEf,UAAAA;AAAF,SAAd;AACD,OApBH;AAsBAU,MAAAA,KAAK,CAACU,cAAN;AACD,KA9BkB;;AAGjB,SAAKT,KAAL,GAAa;AAAEX,MAAAA,KAAK,EAAE;AAAT,KAAb;AACD;;AA4BDoC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpC,MAAAA;AAAF,QAAY,KAAKW,KAAvB;AAEA,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKF,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAGGT,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAK,CAAC+B,OAAV,CAHZ,CADF;AAOD;;AA3CsC;;AA8CzC,MAAMU,kBAAN,SAAiC9D,SAAjC,CAA2C;AACzC4B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,QANmB,GAMRC,KAAK,IAAI;AAClB,WAAKF,KAAL,CAAWI,QAAX,CACG8B,oBADH,GAEG5B,IAFH,CAEQS,cAAc,IAAI;AACtB;AACA,eAAO,KAAKf,KAAL,CAAWI,QAAX,CAAoBY,IAApB,CAAyBD,cAAc,CAACC,IAAf,CAAoBC,GAA7C,EAAkDC,GAAlD,CAAsD;AAC3DC,UAAAA,QAAQ,EAAEJ,cAAc,CAACoB,kBAAf,CAAkCC,OAAlC,CAA0CV,IADO;AAE3DpC,UAAAA,KAAK,EAAEyB,cAAc,CAACoB,kBAAf,CAAkCC,OAAlC,CAA0C9C,KAFU;AAG3D+B,UAAAA,KAAK,EAAE;AAHoD,SAAtD,CAAP;AAKD,OATH,EAUGf,IAVH,CAUQ,MAAM;AACV,aAAKC,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAE;AAAT,SAAd;AACA,aAAKQ,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B;AACD,OAbH,EAcGC,KAdH,CAcSnB,KAAK,IAAI;AACd,YAAIA,KAAK,CAAC8B,IAAN,KAAe1B,yBAAnB,EAA8C;AAC5CJ,UAAAA,KAAK,CAAC+B,OAAN,GAAgB1B,wBAAhB;AACD;;AAED,aAAKU,QAAL,CAAc;AAAEf,UAAAA;AAAF,SAAd;AACD,OApBH;AAsBAU,MAAAA,KAAK,CAACU,cAAN;AACD,KA9BkB;;AAGjB,SAAKT,KAAL,GAAa;AAAEX,MAAAA,KAAK,EAAE;AAAT,KAAb;AACD;;AA4BDoC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpC,MAAAA;AAAF,QAAY,KAAKW,KAAvB;AAEA,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKF,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,EAGGT,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAK,CAAC+B,OAAV,CAHZ,CADF;AAOD;;AA3CwC;;AA8C3C,MAAMc,iBAAN,SAAgClE,SAAhC,CAA0C;AACxC4B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAMnBC,QANmB,GAMRC,KAAK,IAAI;AAClB,WAAKF,KAAL,CAAWI,QAAX,CACGkC,mBADH,GAEGhC,IAFH,CAEQS,cAAc,IAAI;AACtB;AACA,eAAO,KAAKf,KAAL,CAAWI,QAAX,CAAoBY,IAApB,CAAyBD,cAAc,CAACC,IAAf,CAAoBC,GAA7C,EAAkDC,GAAlD,CAAsD;AAC3DC,UAAAA,QAAQ,EAAEJ,cAAc,CAACoB,kBAAf,CAAkCC,OAAlC,CAA0CV,IADO;AAE3DpC,UAAAA,KAAK,EAAEyB,cAAc,CAACoB,kBAAf,CAAkCC,OAAlC,CAA0C9C,KAFU;AAG3D+B,UAAAA,KAAK,EAAE;AAHoD,SAAtD,CAAP;AAKD,OATH,EAUGf,IAVH,CAUQ,MAAM;AACV,aAAKC,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAE;AAAT,SAAd;AACA,aAAKQ,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwBtB,MAAM,CAACuB,IAA/B;AACD,OAbH,EAcGC,KAdH,CAcSnB,KAAK,IAAI;AACd,YAAIA,KAAK,CAAC8B,IAAN,KAAe1B,yBAAnB,EAA8C;AAC5CJ,UAAAA,KAAK,CAAC+B,OAAN,GAAgB1B,wBAAhB;AACD;;AAED,aAAKU,QAAL,CAAc;AAAEf,UAAAA;AAAF,SAAd;AACD,OApBH;AAsBAU,MAAAA,KAAK,CAACU,cAAN;AACD,KA9BkB;;AAGjB,SAAKT,KAAL,GAAa;AAAEX,MAAAA,KAAK,EAAE;AAAT,KAAb;AACD;;AA4BDoC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEpC,MAAAA;AAAF,QAAY,KAAKW,KAAvB;AAEA,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKF,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAGGT,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,KAAK,CAAC+B,OAAV,CAHZ,CADF;AAOD;;AA3CuC;;AA8C1C,MAAMgB,UAAU,GAAGjE,OAAO,CACxBF,UADwB,EAExBc,YAFwB,CAAP,CAGjBY,cAHiB,CAAnB;AAKA,MAAM0C,YAAY,GAAGlE,OAAO,CAC1BF,UAD0B,EAE1Bc,YAF0B,CAAP,CAGnB8C,gBAHmB,CAArB;AAKA,MAAMS,cAAc,GAAGnE,OAAO,CAC5BF,UAD4B,EAE5Bc,YAF4B,CAAP,CAGrB+C,kBAHqB,CAAvB;AAKA,MAAMS,aAAa,GAAGpE,OAAO,CAC3BF,UAD2B,EAE3Bc,YAF2B,CAAP,CAGpBmD,iBAHoB,CAAtB;AAKA,eAAejD,UAAf;AAEA,SAASmD,UAAT,EAAqBC,YAArB,EAAmCC,cAAnC,EAAmDC,aAAnD","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBBtn, MDBIcon, MDBModalFooter } from 'mdbreact';\n\nimport { SignUpLink } from '../SignUp';\nimport { PasswordForgetLink } from '../PasswordForget';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignInPage = () => (\n  <div>\n    {/* <h1>SignIn</h1> */}\n    <SignInForm />\n    {/* <SignInGoogle />\n    <SignInFacebook />\n    <SignInTwitter /> */}\n    {/* <PasswordForgetLink /> */}\n    {/* <SignUpLink /> */}\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n  errorFb: null,\n  errorGoogle: null,\n  errorTwitter: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS =\n  'auth/account-exists-with-different-credential';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n`;\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onSubmitGoogle = event => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ errorGoogle: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === '' || email === '';\n    return (\n      <MDBContainer>\n        <MDBRow>\n          <MDBCol md=\"6\">\n            <MDBCard>\n              <MDBCardBody className=\"mx-4\">\n                <div className=\"text-center\">\n                  <h3 className=\"dark-grey-text mb-5\">\n                    <strong>Sign in</strong>\n                  </h3>\n                </div>\n                <MDBInput\n                  label=\"Your email\"\n                  name=\"email\"\n                  group\n                  type=\"email\"\n                  validate\n                  value={email}\n                  onChange={this.onChange}\n                  error=\"wrong\"\n                  success=\"right\"\n                />\n                <MDBInput\n                  label=\"Your password\"\n                  name=\"password\"\n                  group\n                  type=\"password\"\n                  value={password}\n                  onChange={this.onChange}\n                  validate\n                  containerClass=\"mb-0\"\n                />\n                <p className=\"font-small blue-text d-flex justify-content-end pb-3\">\n                  <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n                </p>\n                <div className=\"text-center mb-3\">\n                  <MDBBtn\n                    type=\"button\"\n                    gradient=\"blue\"\n                    rounded\n                    disabled={isInvalid}\n                    onClick={this.onSubmit}\n                    className=\"btn-block z-depth-1a\"\n                  >\n                    Sign in\n                  </MDBBtn>\n                  {error && <p>{error.message}</p>}\n                </div>\n                <p className=\"font-small dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\">\n  \n                  or Sign in with:\n                </p>\n                <div className=\"row my-3 d-flex justify-content-center\">\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    className=\"mr-md-3 z-depth-1a\"\n                  >\n                    <MDBIcon fab icon=\"facebook-f\" className=\"blue-text text-center\" />\n                  </MDBBtn>\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    className=\"mr-md-3 z-depth-1a\"\n                  >\n                    <MDBIcon fab icon=\"twitter\" className=\"blue-text\" />\n                  </MDBBtn>\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    onClick={onSubmitGoogle}\n                    className=\"z-depth-1a\"\n                  >\n                    <MDBIcon fab icon=\"google-plus-g\" className=\"blue-text\" />\n                  </MDBBtn>\n                </div>\n              </MDBCardBody>\n              <MDBModalFooter className=\"mx-5 pt-3 mb-1\">\n                <p className=\"font-small grey-text d-flex justify-content-end\">\n                  Not a member?\n                  <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n                </p>\n              </MDBModalFooter>\n            </MDBCard>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    );\n    // return (\n    //   <form onSubmit={this.onSubmit}>\n    //     <input\n    //       name=\"email\"\n    //       value={email}\n    //       onChange={this.onChange}\n    //       type=\"text\"\n    //       placeholder=\"Email Address\"\n    //     />\n    //     <input\n    //       name=\"password\"\n    //       value={password}\n    //       onChange={this.onChange}\n    //       type=\"password\"\n    //       placeholder=\"Password\"\n    //     />\n    //     <button disabled={isInvalid} type=\"submit\">\n    //       Sign In\n    //     </button>\n\n    //     {error && <p>{error.message}</p>}\n    //   </form>\n    // );\n  }\n}\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <button type=\"submit\">Sign In with Google</button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInFacebookBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithFacebook()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <button type=\"submit\">Sign In with Facebook</button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInTwitterBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithTwitter()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <button type=\"submit\">Sign In with Twitter</button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(\n  withRouter,\n  withFirebase,\n)(SignInFormBase);\n\nconst SignInGoogle = compose(\n  withRouter,\n  withFirebase,\n)(SignInGoogleBase);\n\nconst SignInFacebook = compose(\n  withRouter,\n  withFirebase,\n)(SignInFacebookBase);\n\nconst SignInTwitter = compose(\n  withRouter,\n  withFirebase,\n)(SignInTwitterBase);\n\nexport default SignInPage;\n\nexport { SignInForm, SignInGoogle, SignInFacebook, SignInTwitter };\n"]},"metadata":{},"sourceType":"module"}