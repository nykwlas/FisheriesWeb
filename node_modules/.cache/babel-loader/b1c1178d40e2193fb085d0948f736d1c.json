{"ast":null,"code":"import _defineProperty from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter,Link}from\"react-router-dom\";import{compose}from\"recompose\";import{MDBContainer,MDBRow,MDBCol,MDBCard,MDBCardBody,MDBInput,MDBBtn,MDBIcon,MDBModalFooter}from\"mdbreact\";import{withFirebase}from\"../Firebase\";import*as ROUTES from\"../../constants/routes\";var SignInPage=function SignInPage(){return/*#__PURE__*/React.createElement(\"div\",{style:{paddingBottom:30,paddingTop:30}},/*#__PURE__*/React.createElement(SignInForm,null));};var INITIAL_STATE={email:\"\",password:\"\",error:null,errorFb:null,errorGoogle:null,errorTwitter:null};var ERROR_CODE_ACCOUNT_EXISTS=\"auth/account-exists-with-different-credential\";var ERROR_MSG_ACCOUNT_EXISTS=\"\\n  An account with an E-Mail address to\\n  this social account already exists. Try to login from\\n  this account instead and associate your social accounts on\\n  your personal account page.\\n\";var SignInFormBase=/*#__PURE__*/function(_Component){_inherits(SignInFormBase,_Component);var _super=_createSuper(SignInFormBase);function SignInFormBase(props){var _this;_classCallCheck(this,SignInFormBase);_this=_super.call(this,props);_this.onSubmit=function(event){var _this$state=_this.state,email=_this$state.email,password=_this$state.password;_this.props.firebase.doSignInWithEmailAndPassword(email,password).then(function(){_this.setState(_objectSpread({},INITIAL_STATE));_this.props.history.push(ROUTES.HOME);}).catch(function(error){_this.setState({error:error});});event.preventDefault();};_this.onSubmitGoogle=function(event){_this.props.firebase.doSignInWithGoogle().then(function(socialAuthUser){// Create a user in your Firebase Realtime Database too\nreturn _this.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.user.displayName,email:socialAuthUser.user.email,roles:{}});}).then(function(){_this.setState({errorGoogle:null});_this.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}_this.setState({error:error});});event.preventDefault();};_this.onSubmitFb=function(event){_this.props.firebase.doSignInWithFacebook().then(function(socialAuthUser){// Create a user in your Firebase Realtime Database too\nreturn _this.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.additionalUserInfo.profile.name,email:socialAuthUser.additionalUserInfo.profile.email,roles:{}});}).then(function(){_this.setState({error:null});_this.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}_this.setState({error:error});});event.preventDefault();};_this.onSubmitTwitter=function(event){_this.props.firebase.doSignInWithTwitter().then(function(socialAuthUser){// Create a user in your Firebase Realtime Database too\nreturn _this.props.firebase.user(socialAuthUser.user.uid).set({username:socialAuthUser.additionalUserInfo.profile.name,email:socialAuthUser.additionalUserInfo.profile.email,roles:{}});}).then(function(){_this.setState({error:null});_this.props.history.push(ROUTES.HOME);}).catch(function(error){if(error.code===ERROR_CODE_ACCOUNT_EXISTS){error.message=ERROR_MSG_ACCOUNT_EXISTS;}_this.setState({error:error});});event.preventDefault();};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state=_objectSpread({},INITIAL_STATE);return _this;}_createClass(SignInFormBase,[{key:\"render\",value:function render(){var _this$state2=this.state,email=_this$state2.email,password=_this$state2.password,error=_this$state2.error,errorGoogle=_this$state2.errorGoogle,errorFb=_this$state2.errorFb,errorTwitter=_this$state2.errorTwitter;var isInvalid=password===\"\"||email===\"\";return/*#__PURE__*/React.createElement(MDBContainer,null,/*#__PURE__*/React.createElement(MDBRow,null,/*#__PURE__*/React.createElement(MDBCol,{md:\"3\"}),/*#__PURE__*/React.createElement(MDBCol,{md:\"6\"},/*#__PURE__*/React.createElement(MDBCard,null,/*#__PURE__*/React.createElement(MDBCardBody,{className:\"mx-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"dark-grey-text mb-5\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Sign in\"))),/*#__PURE__*/React.createElement(MDBInput,{label:\"Your email\",name:\"email\",group:true,type:\"email\",validate:true,value:email,onChange:this.onChange,error:\"wrong\",success:\"right\"}),/*#__PURE__*/React.createElement(MDBInput,{label:\"Your password\",name:\"password\",group:true,type:\"password\",value:password,onChange:this.onChange,validate:true,containerClass:\"mb-0\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"font-small blue-text d-flex justify-content-end pb-3\"},/*#__PURE__*/React.createElement(Link,{to:ROUTES.PASSWORD_FORGET},\"Forgot Password?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center mb-3\"},/*#__PURE__*/React.createElement(MDBBtn,{type:\"button\",gradient:\"blue\",rounded:true,disabled:isInvalid,onClick:this.onSubmit,className:\"btn-block z-depth-1a\"},\"Sign in\"),error&&/*#__PURE__*/React.createElement(\"p\",null,error.message)),/*#__PURE__*/React.createElement(\"p\",{className:\"font-small dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\"},\"or Sign in with:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row my-3 d-flex justify-content-center\"},/*#__PURE__*/React.createElement(MDBBtn,{type:\"button\",color:\"white\",rounded:true,onClick:this.onSubmitFb,className:\"mr-md-3 z-depth-1a\"},/*#__PURE__*/React.createElement(MDBIcon,{fab:true,icon:\"facebook-f\",className:\"blue-text text-center\"})),errorFb&&/*#__PURE__*/React.createElement(\"p\",null,errorFb.message),/*#__PURE__*/React.createElement(MDBBtn,{type:\"button\",color:\"white\",rounded:true,onClick:this.onSubmitTwitter,className:\"mr-md-3 z-depth-1a\"},/*#__PURE__*/React.createElement(MDBIcon,{fab:true,icon:\"twitter\",className:\"blue-text\"})),errorTwitter&&/*#__PURE__*/React.createElement(\"p\",null,errorTwitter.message),/*#__PURE__*/React.createElement(MDBBtn,{type:\"button\",color:\"white\",rounded:true,onClick:this.onSubmitGoogle,className:\"z-depth-1a\"},/*#__PURE__*/React.createElement(MDBIcon,{fab:true,icon:\"google-plus-g\",className:\"blue-text\"})),errorGoogle&&/*#__PURE__*/React.createElement(\"p\",null,errorGoogle.message))),/*#__PURE__*/React.createElement(MDBModalFooter,{className:\"mx-5 pt-3 mb-1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"font-small grey-text d-flex justify-content-end\"},\"Not a member?\",/*#__PURE__*/React.createElement(Link,{to:ROUTES.SIGN_UP},\"Sign Up\"))))),/*#__PURE__*/React.createElement(MDBCol,{md:\"3\"})));}}]);return SignInFormBase;}(Component);var SignInForm=compose(withRouter,withFirebase)(SignInFormBase);export default SignInPage;export{SignInForm};","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/SignIn/index.js"],"names":["React","Component","withRouter","Link","compose","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBInput","MDBBtn","MDBIcon","MDBModalFooter","withFirebase","ROUTES","SignInPage","paddingBottom","paddingTop","INITIAL_STATE","email","password","error","errorFb","errorGoogle","errorTwitter","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignInFormBase","props","onSubmit","event","state","firebase","doSignInWithEmailAndPassword","then","setState","history","push","HOME","catch","preventDefault","onSubmitGoogle","doSignInWithGoogle","socialAuthUser","user","uid","set","username","displayName","roles","code","message","onSubmitFb","doSignInWithFacebook","additionalUserInfo","profile","name","onSubmitTwitter","doSignInWithTwitter","onChange","target","value","isInvalid","PASSWORD_FORGET","SIGN_UP","SignInForm"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBCard,\n  MDBCardBody,\n  MDBInput,\n  MDBBtn,\n  MDBIcon,\n  MDBModalFooter,\n} from \"mdbreact\";\n\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nconst SignInPage = () => (\n  <div style={{paddingBottom: 30, paddingTop: 30}}>\n    <SignInForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null,\n  errorFb: null,\n  errorGoogle: null,\n  errorTwitter: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS =\n  \"auth/account-exists-with-different-credential\";\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n`;\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = (event) => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch((error) => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onSubmitGoogle = (event) => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then((socialAuthUser) => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ errorGoogle: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch((error) => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onSubmitFb = (event) => {\n    this.props.firebase\n      .doSignInWithFacebook()\n      .then((socialAuthUser) => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch((error) => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onSubmitTwitter = (event) => {\n    this.props.firebase\n      .doSignInWithTwitter()\n      .then((socialAuthUser) => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: {},\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch((error) => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const {\n      email,\n      password,\n      error,\n      errorGoogle,\n      errorFb,\n      errorTwitter,\n    } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n    return (\n      <MDBContainer>\n        <MDBRow>\n          <MDBCol md=\"3\">\n          </MDBCol>\n          <MDBCol md=\"6\">\n            <MDBCard>\n              <MDBCardBody className=\"mx-4\">\n                <div className=\"text-center\">\n                  <h3 className=\"dark-grey-text mb-5\">\n                    <strong>Sign in</strong>\n                  </h3>\n                </div>\n                <MDBInput\n                  label=\"Your email\"\n                  name=\"email\"\n                  group\n                  type=\"email\"\n                  validate\n                  value={email}\n                  onChange={this.onChange}\n                  error=\"wrong\"\n                  success=\"right\"\n                />\n                <MDBInput\n                  label=\"Your password\"\n                  name=\"password\"\n                  group\n                  type=\"password\"\n                  value={password}\n                  onChange={this.onChange}\n                  validate\n                  containerClass=\"mb-0\"\n                />\n                <p className=\"font-small blue-text d-flex justify-content-end pb-3\">\n                  <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n                </p>\n                <div className=\"text-center mb-3\">\n                  <MDBBtn\n                    type=\"button\"\n                    gradient=\"blue\"\n                    rounded\n                    disabled={isInvalid}\n                    onClick={this.onSubmit}\n                    className=\"btn-block z-depth-1a\"\n                  >\n                    Sign in\n                  </MDBBtn>\n                  {error && <p>{error.message}</p>}\n                </div>\n                <p className=\"font-small dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\">\n                  or Sign in with:\n                </p>\n                <div className=\"row my-3 d-flex justify-content-center\">\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    onClick={this.onSubmitFb}\n                    className=\"mr-md-3 z-depth-1a\"\n                  >\n                    <MDBIcon\n                      fab\n                      icon=\"facebook-f\"\n                      className=\"blue-text text-center\"\n                    />\n                  </MDBBtn>\n                  {errorFb && <p>{errorFb.message}</p>}\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    onClick={this.onSubmitTwitter}\n                    className=\"mr-md-3 z-depth-1a\"\n                  >\n                    <MDBIcon fab icon=\"twitter\" className=\"blue-text\" />\n                  </MDBBtn>\n                  {errorTwitter && <p>{errorTwitter.message}</p>}\n                  <MDBBtn\n                    type=\"button\"\n                    color=\"white\"\n                    rounded\n                    onClick={this.onSubmitGoogle}\n                    className=\"z-depth-1a\"\n                  >\n                    <MDBIcon fab icon=\"google-plus-g\" className=\"blue-text\" />\n                  </MDBBtn>\n                  {errorGoogle && <p>{errorGoogle.message}</p>}\n                </div>\n              </MDBCardBody>\n              <MDBModalFooter className=\"mx-5 pt-3 mb-1\">\n                <p className=\"font-small grey-text d-flex justify-content-end\">\n                  Not a member?\n                  <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n                </p>\n              </MDBModalFooter>\n            </MDBCard>\n          </MDBCol>\n          <MDBCol md=\"3\"> \n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    );\n  }\n}\n\nconst SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\n\nexport default SignInPage;\n\nexport { SignInForm };\n"]},"metadata":{},"sourceType":"module"}