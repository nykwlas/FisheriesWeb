{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/FisheriesWeb/src/components/Users/UserList.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.users.length) {\n      this.setState({\n        loading: true\n      });\n    }\n\n    this.props.firebase.users().on('value', snapshot => {\n      this.props.onSetUsers(snapshot.val());\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const {\n      users\n    } = this.props;\n    const {\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, \"Users\"), loading && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, \"Loading ...\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n      key: user.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"ID:\"), \" \", user.uid), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"E-Mail:\"), \" \", user.email), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Username:\"), \" \", user.username), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `${ROUTES.ADMIN}/${user.uid}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Details\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: Object.keys(state.userState.users || {}).map(key => ({ ...state.userState.users[key],\n    uid: key\n  }))\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUsers: users => dispatch({\n    type: 'USERS_SET',\n    users\n  })\n});\n\nexport default compose(withFirebase, connect(mapStateToProps, mapDispatchToProps))(UserList);","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/Users/UserList.js"],"names":["React","Component","Link","connect","compose","withFirebase","ROUTES","UserList","constructor","props","state","loading","componentDidMount","users","length","setState","firebase","on","snapshot","onSetUsers","val","componentWillUnmount","off","render","map","user","uid","email","username","ADMIN","mapStateToProps","Object","keys","userState","key","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.users.length) {\n      this.setState({ loading: true });\n    }\n\n    this.props.firebase.users().on('value', snapshot => {\n      this.props.onSetUsers(snapshot.val());\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n  render() {\n    const { users } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>Users</h2>\n        {loading && <div>Loading ...</div>}\n        <ul>\n          {users.map(user => (\n            <li key={user.uid}>\n              <span>\n                <strong>ID:</strong> {user.uid}\n              </span>\n              <span>\n                <strong>E-Mail:</strong> {user.email}\n              </span>\n              <span>\n                <strong>Username:</strong> {user.username}\n              </span>\n              <span>\n                <Link to={`${ROUTES.ADMIN}/${user.uid}`}>\n                  Details\n                </Link>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: Object.keys(state.userState.users || {}).map(key => ({\n    ...state.userState.users[key],\n    uid: key,\n  })),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUsers: users => dispatch({ type: 'USERS_SET', users }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(UserList);\n"]},"metadata":{},"sourceType":"module"}