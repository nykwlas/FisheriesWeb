{"ast":null,"code":"import _defineProperty from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{compose}from'recompose';import{withAuthorization,withEmailVerification}from'../Session';import{withFirebase}from'../Firebase';import{PasswordForgetForm}from'../PasswordForget';import PasswordChangeForm from'../PasswordChange';var SIGN_IN_METHODS=[{id:'password',provider:null},{id:'google.com',provider:'googleProvider'},{id:'facebook.com',provider:'facebookProvider'},{id:'twitter.com',provider:'twitterProvider'}];var AccountPage=function AccountPage(_ref){var authUser=_ref.authUser;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Account: \",authUser.email),/*#__PURE__*/React.createElement(PasswordForgetForm,null),/*#__PURE__*/React.createElement(PasswordChangeForm,null),/*#__PURE__*/React.createElement(LoginManagement,{authUser:authUser}));};var LoginManagementBase=/*#__PURE__*/function(_Component){_inherits(LoginManagementBase,_Component);var _super=_createSuper(LoginManagementBase);function LoginManagementBase(props){var _this;_classCallCheck(this,LoginManagementBase);_this=_super.call(this,props);_this.fetchSignInMethods=function(){_this.props.firebase.auth.fetchSignInMethodsForEmail(_this.props.authUser.email).then(function(activeSignInMethods){return _this.setState({activeSignInMethods:activeSignInMethods,error:null});}).catch(function(error){return _this.setState({error:error});});};_this.onSocialLoginLink=function(provider){_this.props.firebase.auth.currentUser.linkWithPopup(_this.props.firebase[provider]).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.onDefaultLoginLink=function(password){var credential=_this.props.firebase.emailAuthProvider.credential(_this.props.authUser.email,password);_this.props.firebase.auth.currentUser.linkAndRetrieveDataWithCredential(credential).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.onUnlink=function(providerId){_this.props.firebase.auth.currentUser.unlink(providerId).then(_this.fetchSignInMethods).catch(function(error){return _this.setState({error:error});});};_this.state={activeSignInMethods:[],error:null};return _this;}_createClass(LoginManagementBase,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchSignInMethods();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,activeSignInMethods=_this$state.activeSignInMethods,error=_this$state.error;return/*#__PURE__*/React.createElement(\"div\",null,\"Sign In Methods:\",/*#__PURE__*/React.createElement(\"ul\",null,SIGN_IN_METHODS.map(function(signInMethod){var onlyOneLeft=activeSignInMethods.length===1;var isEnabled=activeSignInMethods.includes(signInMethod.id);return/*#__PURE__*/React.createElement(\"li\",{key:signInMethod.id},signInMethod.id==='password'?/*#__PURE__*/React.createElement(DefaultLoginToggle,{onlyOneLeft:onlyOneLeft,isEnabled:isEnabled,signInMethod:signInMethod,onLink:_this2.onDefaultLoginLink,onUnlink:_this2.onUnlink}):/*#__PURE__*/React.createElement(SocialLoginToggle,{onlyOneLeft:onlyOneLeft,isEnabled:isEnabled,signInMethod:signInMethod,onLink:_this2.onSocialLoginLink,onUnlink:_this2.onUnlink}));})),error&&error.message);}}]);return LoginManagementBase;}(Component);var SocialLoginToggle=function SocialLoginToggle(_ref2){var onlyOneLeft=_ref2.onlyOneLeft,isEnabled=_ref2.isEnabled,signInMethod=_ref2.signInMethod,onLink=_ref2.onLink,onUnlink=_ref2.onUnlink;return isEnabled?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return onUnlink(signInMethod.id);},disabled:onlyOneLeft},\"Deactivate \",signInMethod.id):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return onLink(signInMethod.provider);}},\"Link \",signInMethod.id);};var DefaultLoginToggle=/*#__PURE__*/function(_Component2){_inherits(DefaultLoginToggle,_Component2);var _super2=_createSuper(DefaultLoginToggle);function DefaultLoginToggle(props){var _this3;_classCallCheck(this,DefaultLoginToggle);_this3=_super2.call(this,props);_this3.onSubmit=function(event){event.preventDefault();_this3.props.onLink(_this3.state.passwordOne);_this3.setState({passwordOne:'',passwordTwo:''});};_this3.onChange=function(event){_this3.setState(_defineProperty({},event.target.name,event.target.value));};_this3.state={passwordOne:'',passwordTwo:''};return _this3;}_createClass(DefaultLoginToggle,[{key:\"render\",value:function render(){var _this$props=this.props,onlyOneLeft=_this$props.onlyOneLeft,isEnabled=_this$props.isEnabled,signInMethod=_this$props.signInMethod,onUnlink=_this$props.onUnlink;var _this$state2=this.state,passwordOne=_this$state2.passwordOne,passwordTwo=_this$state2.passwordTwo;var isInvalid=passwordOne!==passwordTwo||passwordOne==='';return isEnabled?/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return onUnlink(signInMethod.id);},disabled:onlyOneLeft},\"Deactivate \",signInMethod.id):/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"input\",{name:\"passwordOne\",value:passwordOne,onChange:this.onChange,type:\"password\",placeholder:\"New Password\"}),/*#__PURE__*/React.createElement(\"input\",{name:\"passwordTwo\",value:passwordTwo,onChange:this.onChange,type:\"password\",placeholder:\"Confirm New Password\"}),/*#__PURE__*/React.createElement(\"button\",{disabled:isInvalid,type:\"submit\"},\"Link \",signInMethod.id));}}]);return DefaultLoginToggle;}(Component);var LoginManagement=withFirebase(LoginManagementBase);var mapStateToProps=function mapStateToProps(state){return{authUser:state.sessionState.authUser};};var condition=function condition(authUser){return!!authUser;};export default compose(connect(mapStateToProps),withEmailVerification,withAuthorization(condition))(AccountPage);","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/Account/index.js"],"names":["React","Component","connect","compose","withAuthorization","withEmailVerification","withFirebase","PasswordForgetForm","PasswordChangeForm","SIGN_IN_METHODS","id","provider","AccountPage","authUser","email","LoginManagementBase","props","fetchSignInMethods","firebase","auth","fetchSignInMethodsForEmail","then","activeSignInMethods","setState","error","catch","onSocialLoginLink","currentUser","linkWithPopup","onDefaultLoginLink","password","credential","emailAuthProvider","linkAndRetrieveDataWithCredential","onUnlink","providerId","unlink","state","map","signInMethod","onlyOneLeft","length","isEnabled","includes","message","SocialLoginToggle","onLink","DefaultLoginToggle","onSubmit","event","preventDefault","passwordOne","passwordTwo","onChange","target","name","value","isInvalid","LoginManagement","mapStateToProps","sessionState","condition"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withAuthorization, withEmailVerification } from '../Session';\nimport { withFirebase } from '../Firebase';\nimport { PasswordForgetForm } from '../PasswordForget';\nimport PasswordChangeForm from '../PasswordChange';\n\nconst SIGN_IN_METHODS = [\n  {\n    id: 'password',\n    provider: null,\n  },\n  {\n    id: 'google.com',\n    provider: 'googleProvider',\n  },\n  {\n    id: 'facebook.com',\n    provider: 'facebookProvider',\n  },\n  {\n    id: 'twitter.com',\n    provider: 'twitterProvider',\n  },\n];\n\nconst AccountPage = ({ authUser }) => (\n  <div>\n    <h1>Account: {authUser.email}</h1>\n    <PasswordForgetForm />\n    <PasswordChangeForm />\n    <LoginManagement authUser={authUser} />\n  </div>\n);\n\nclass LoginManagementBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeSignInMethods: [],\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSignInMethods();\n  }\n\n  fetchSignInMethods = () => {\n    this.props.firebase.auth\n      .fetchSignInMethodsForEmail(this.props.authUser.email)\n      .then(activeSignInMethods =>\n        this.setState({ activeSignInMethods, error: null }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  onSocialLoginLink = provider => {\n    this.props.firebase.auth.currentUser\n      .linkWithPopup(this.props.firebase[provider])\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  onDefaultLoginLink = password => {\n    const credential = this.props.firebase.emailAuthProvider.credential(\n      this.props.authUser.email,\n      password,\n    );\n\n    this.props.firebase.auth.currentUser\n      .linkAndRetrieveDataWithCredential(credential)\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  onUnlink = providerId => {\n    this.props.firebase.auth.currentUser\n      .unlink(providerId)\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  render() {\n    const { activeSignInMethods, error } = this.state;\n\n    return (\n      <div>\n        Sign In Methods:\n        <ul>\n          {SIGN_IN_METHODS.map(signInMethod => {\n            const onlyOneLeft = activeSignInMethods.length === 1;\n            const isEnabled = activeSignInMethods.includes(\n              signInMethod.id,\n            );\n\n            return (\n              <li key={signInMethod.id}>\n                {signInMethod.id === 'password' ? (\n                  <DefaultLoginToggle\n                    onlyOneLeft={onlyOneLeft}\n                    isEnabled={isEnabled}\n                    signInMethod={signInMethod}\n                    onLink={this.onDefaultLoginLink}\n                    onUnlink={this.onUnlink}\n                  />\n                ) : (\n                  <SocialLoginToggle\n                    onlyOneLeft={onlyOneLeft}\n                    isEnabled={isEnabled}\n                    signInMethod={signInMethod}\n                    onLink={this.onSocialLoginLink}\n                    onUnlink={this.onUnlink}\n                  />\n                )}\n              </li>\n            );\n          })}\n        </ul>\n        {error && error.message}\n      </div>\n    );\n  }\n}\n\nconst SocialLoginToggle = ({\n  onlyOneLeft,\n  isEnabled,\n  signInMethod,\n  onLink,\n  onUnlink,\n}) =>\n  isEnabled ? (\n    <button\n      type=\"button\"\n      onClick={() => onUnlink(signInMethod.id)}\n      disabled={onlyOneLeft}\n    >\n      Deactivate {signInMethod.id}\n    </button>\n  ) : (\n    <button\n      type=\"button\"\n      onClick={() => onLink(signInMethod.provider)}\n    >\n      Link {signInMethod.id}\n    </button>\n  );\n\nclass DefaultLoginToggle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { passwordOne: '', passwordTwo: '' };\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n\n    this.props.onLink(this.state.passwordOne);\n    this.setState({ passwordOne: '', passwordTwo: '' });\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const {\n      onlyOneLeft,\n      isEnabled,\n      signInMethod,\n      onUnlink,\n    } = this.props;\n\n    const { passwordOne, passwordTwo } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n\n    return isEnabled ? (\n      <button\n        type=\"button\"\n        onClick={() => onUnlink(signInMethod.id)}\n        disabled={onlyOneLeft}\n      >\n        Deactivate {signInMethod.id}\n      </button>\n    ) : (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n\n        <button disabled={isInvalid} type=\"submit\">\n          Link {signInMethod.id}\n        </button>\n      </form>\n    );\n  }\n}\n\nconst LoginManagement = withFirebase(LoginManagementBase);\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser,\n});\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n  connect(mapStateToProps),\n  withEmailVerification,\n  withAuthorization(condition),\n)(AccountPage);\n"]},"metadata":{},"sourceType":"module"}