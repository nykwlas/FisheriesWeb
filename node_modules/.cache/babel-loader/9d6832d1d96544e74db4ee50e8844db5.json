{"ast":null,"code":"import _classCallCheck from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nicolas/FisheriesWeb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var MessageItem=/*#__PURE__*/function(_Component){_inherits(MessageItem,_Component);var _super=_createSuper(MessageItem);function MessageItem(props){var _this;_classCallCheck(this,MessageItem);_this=_super.call(this,props);_this.onToggleEditMode=function(){_this.setState(function(state){return{editMode:!state.editMode,editText:_this.props.message.text};});};_this.onChangeEditText=function(event){_this.setState({editText:event.target.value});};_this.onSaveEditText=function(){_this.props.onEditMessage(_this.props.message,_this.state.editText);_this.setState({editMode:false});};_this.state={editMode:false,editText:_this.props.message.text};return _this;}_createClass(MessageItem,[{key:\"render\",value:function render(){var _this$props=this.props,authUser=_this$props.authUser,message=_this$props.message,onRemoveMessage=_this$props.onRemoveMessage;var _this$state=this.state,editMode=_this$state.editMode,editText=_this$state.editText;return/*#__PURE__*/React.createElement(\"li\",null,editMode?/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:editText,onChange:this.onChangeEditText}):/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"strong\",null,message.userId),\" \",message.text,message.editedAt&&/*#__PURE__*/React.createElement(\"span\",null,\"(Edited)\")),authUser.uid===message.userId&&/*#__PURE__*/React.createElement(\"span\",null,editMode?/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.onSaveEditText},\"Save\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.onToggleEditMode},\"Reset\")):/*#__PURE__*/React.createElement(\"button\",{onClick:this.onToggleEditMode},\"Edit\"),!editMode&&/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return onRemoveMessage(message.uid);}},\"Delete\")));}}]);return MessageItem;}(Component);export default MessageItem;","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/Messages/MessageItem.js"],"names":["React","Component","MessageItem","props","onToggleEditMode","setState","state","editMode","editText","message","text","onChangeEditText","event","target","value","onSaveEditText","onEditMessage","authUser","onRemoveMessage","userId","editedAt","uid"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EADiB,MASnBC,gBATmB,CASA,UAAM,CACvB,MAAKC,QAAL,CAAc,SAAAC,KAAK,QAAK,CACtBC,QAAQ,CAAE,CAACD,KAAK,CAACC,QADK,CAEtBC,QAAQ,CAAE,MAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAFP,CAAL,EAAnB,EAID,CAdkB,OAgBnBC,gBAhBmB,CAgBA,SAAAC,KAAK,CAAI,CAC1B,MAAKP,QAAL,CAAc,CAAEG,QAAQ,CAAEI,KAAK,CAACC,MAAN,CAAaC,KAAzB,CAAd,EACD,CAlBkB,OAoBnBC,cApBmB,CAoBF,UAAM,CACrB,MAAKZ,KAAL,CAAWa,aAAX,CAAyB,MAAKb,KAAL,CAAWM,OAApC,CAA6C,MAAKH,KAAL,CAAWE,QAAxD,EAEA,MAAKH,QAAL,CAAc,CAAEE,QAAQ,CAAE,KAAZ,CAAd,EACD,CAxBkB,CAGjB,MAAKD,KAAL,CAAa,CACXC,QAAQ,CAAE,KADC,CAEXC,QAAQ,CAAE,MAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAFlB,CAAb,CAHiB,aAOlB,C,+DAmBQ,iBACwC,KAAKP,KAD7C,CACCc,QADD,aACCA,QADD,CACWR,OADX,aACWA,OADX,CACoBS,eADpB,aACoBA,eADpB,iBAEwB,KAAKZ,KAF7B,CAECC,QAFD,aAECA,QAFD,CAEWC,QAFX,aAEWA,QAFX,CAIP,mBACE,8BACGD,QAAQ,cACP,6BACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEC,QAFT,CAGE,QAAQ,CAAE,KAAKG,gBAHjB,EADO,cAOP,6CACE,kCAASF,OAAO,CAACU,MAAjB,CADF,KACqCV,OAAO,CAACC,IAD7C,CAEGD,OAAO,CAACW,QAAR,eAAoB,2CAFvB,CARJ,CAcGH,QAAQ,CAACI,GAAT,GAAiBZ,OAAO,CAACU,MAAzB,eACC,gCACGZ,QAAQ,cACP,6CACE,8BAAQ,OAAO,CAAE,KAAKQ,cAAtB,SADF,cAEE,8BAAQ,OAAO,CAAE,KAAKX,gBAAtB,UAFF,CADO,cAMP,8BAAQ,OAAO,CAAE,KAAKA,gBAAtB,SAPJ,CAUG,CAACG,QAAD,eACC,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMW,CAAAA,eAAe,CAACT,OAAO,CAACY,GAAT,CAArB,EAFX,WAXJ,CAfJ,CADF,CAsCD,C,yBArEuBpB,S,EAwE1B,cAAeC,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass MessageItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editMode: false,\n      editText: this.props.message.text,\n    };\n  }\n\n  onToggleEditMode = () => {\n    this.setState(state => ({\n      editMode: !state.editMode,\n      editText: this.props.message.text,\n    }));\n  };\n\n  onChangeEditText = event => {\n    this.setState({ editText: event.target.value });\n  };\n\n  onSaveEditText = () => {\n    this.props.onEditMessage(this.props.message, this.state.editText);\n\n    this.setState({ editMode: false });\n  };\n\n  render() {\n    const { authUser, message, onRemoveMessage } = this.props;\n    const { editMode, editText } = this.state;\n\n    return (\n      <li>\n        {editMode ? (\n          <input\n            type=\"text\"\n            value={editText}\n            onChange={this.onChangeEditText}\n          />\n        ) : (\n          <span>\n            <strong>{message.userId}</strong> {message.text}\n            {message.editedAt && <span>(Edited)</span>}\n          </span>\n        )}\n\n        {authUser.uid === message.userId && (\n          <span>\n            {editMode ? (\n              <span>\n                <button onClick={this.onSaveEditText}>Save</button>\n                <button onClick={this.onToggleEditMode}>Reset</button>\n              </span>\n            ) : (\n              <button onClick={this.onToggleEditMode}>Edit</button>\n            )}\n\n            {!editMode && (\n              <button\n                type=\"button\"\n                onClick={() => onRemoveMessage(message.uid)}\n              >\n                Delete\n              </button>\n            )}\n          </span>\n        )}\n      </li>\n    );\n  }\n}\n\nexport default MessageItem;\n"]},"metadata":{},"sourceType":"module"}