{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/FisheriesWeb/src/components/SignUp/index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBIcon, MDBBtn } from 'mdbreact';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\n\nconst SignUpPage = () => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"h1\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, \"SignUp\"), /*#__PURE__*/React.createElement(SignUpForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}));\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null\n};\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      const {\n        username,\n        email,\n        passwordOne,\n        isAdmin\n      } = this.state;\n      const roles = {};\n\n      if (isAdmin) {\n        roles[ROLES.ADMIN] = ROLES.ADMIN;\n      }\n\n      this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n          roles\n        });\n      }).then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      }).then(() => {\n        this.setState({ ...INITIAL_STATE\n        });\n        this.props.history.push(ROUTES.HOME);\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n      event.preventDefault();\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onChangeCheckbox = event => {\n      this.setState({\n        [event.target.name]: event.target.checked\n      });\n    };\n\n    this.state = { ...INITIAL_STATE\n    };\n  }\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      isAdmin,\n      error\n    } = this.state;\n    const isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\n    return /*#__PURE__*/React.createElement(MDBContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBCard, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MDBCardBody, {\n      className: \"mx-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"pink-text mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, \"Sign up\"))), /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Your email\",\n      group: true,\n      type: \"text\",\n      validate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(MDBInput, {\n      label: \"Your password\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"md-form pb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-check my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBInput, {\n      label: /*#__PURE__*/React.createElement(React.Fragment, null, \"Accept\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"!#\",\n        className: \"blue-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }\n      }, \"the Terms and Conditions\")),\n      type: \"checkbox\",\n      id: \"checkbox1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"d-flex align-items-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"6\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      className: \"z-depth-1\",\n      color: \"pink\",\n      rounded: true,\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, \"Sign up\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, error.message)), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-small grey-text d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, \"Have an account?\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"blue-text ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, \"Log in\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer pt-3 mdb-color lighten-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-small white-text mb-2 pt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, \"or Sign up with\")), /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"mt-2 mb-3 d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"fa-lg p-2 m-2 fb-ic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      icon: \"facebook-f\",\n      fab: true,\n      size: \"lg\",\n      className: \"white-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"fa-lg p-2 m-2 tw-ic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"twitter\",\n      size: \"lg\",\n      className: \"white-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"fa-lg p-2 m-2 gplus-ic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"google-plus-g\",\n      size: \"lg\",\n      className: \"white-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    })))))))) // <form onSubmit={this.onSubmit}>\n    //   <input\n    //     name=\"username\"\n    //     value={username}\n    //     onChange={this.onChange}\n    //     type=\"text\"\n    //     placeholder=\"Full Name\"\n    //   />\n    //   <input\n    //     name=\"email\"\n    //     value={email}\n    //     onChange={this.onChange}\n    //     type=\"text\"\n    //     placeholder=\"Email Address\"\n    //   />\n    //   <input\n    //     name=\"passwordOne\"\n    //     value={passwordOne}\n    //     onChange={this.onChange}\n    //     type=\"password\"\n    //     placeholder=\"Password\"\n    //   />\n    //   <input\n    //     name=\"passwordTwo\"\n    //     value={passwordTwo}\n    //     onChange={this.onChange}\n    //     type=\"password\"\n    //     placeholder=\"Confirm Password\"\n    //   />\n    //   <label>\n    //     Admin:\n    //     <input\n    //       name=\"isAdmin\"\n    //       type=\"checkbox\"\n    //       checked={isAdmin}\n    //       onChange={this.onChangeCheckbox}\n    //     />\n    //   </label>\n    //   <button disabled={isInvalid} type=\"submit\">\n    //     Sign Up\n    //   </button>\n    //   {error && <p>{error.message}</p>}\n    // </form>\n    ;\n  }\n\n}\n\nconst SignUpLink = () => /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 3\n  }\n}, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n  to: ROUTES.SIGN_UP,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 28\n  }\n}, \"Sign Up\"));\n\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\nexport default SignUpPage;\nexport { SignUpForm, SignUpLink };","map":{"version":3,"sources":["/home/nicolas/FisheriesWeb/src/components/SignUp/index.js"],"names":["React","Component","Link","withRouter","MDBContainer","MDBRow","MDBCol","MDBCard","MDBCardBody","MDBInput","MDBIcon","MDBBtn","withFirebase","ROUTES","ROLES","SignUpPage","INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","constructor","props","onSubmit","event","state","roles","ADMIN","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","doSendEmailVerification","setState","history","push","HOME","catch","code","message","preventDefault","onChange","target","name","value","onChangeCheckbox","checked","render","isInvalid","SignUpLink","SIGN_UP","SignUpForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport { MDBContainer, MDBRow, MDBCol, MDBCard, MDBCardBody, MDBInput, MDBIcon, MDBBtn } from 'mdbreact';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\nimport * as ROLES from '../../constants/roles';\n\nconst SignUpPage = () => (\n  <div>\n    <h1>SignUp</h1>\n    <SignUpForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = {};\n\n    if (isAdmin) {\n      roles[ROLES.ADMIN] = ROLES.ADMIN;\n    }\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n          roles,\n        });\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      isAdmin,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      <MDBContainer>\n      <MDBRow>\n        <MDBCol md='6'>\n          <MDBCard>\n            <MDBCardBody className='mx-4'>\n              <div className='text-center'>\n                <h3 className='pink-text mb-5'>\n                  <strong>Sign up</strong>\n                </h3>\n              </div>\n              <MDBInput label='Your email' group type='text' validate />\n              <MDBInput label='Your password' group type='password' validate />\n              <div className='md-form pb-3'>\n                <div className='form-check my-4'>\n                  <MDBInput\n                    label={\n                      <>\n                        Accept&nbsp;\n                        <a href='!#' className='blue-text'>\n                          the Terms and Conditions\n                        </a>\n                      </>\n                    }\n                    type='checkbox'\n                    id='checkbox1'\n                  />\n                </div>\n              </div>\n              <MDBRow className='d-flex align-items-center mb-4'>\n                <MDBCol md='6' className='text-center'>\n                  <MDBBtn className='z-depth-1' color='pink' rounded block>\n                    Sign up\n                  </MDBBtn>\n                  {error && <p>{error.message}</p>}\n                </MDBCol>\n                <MDBCol md='6'>\n                  <p className='font-small grey-text d-flex justify-content-end'>\n                    Have an account?\n                    <a href='#!' className='blue-text ml-1'>\n                      Log in\n                    </a>\n                  </p>\n                </MDBCol>\n              </MDBRow>\n            </MDBCardBody>\n            <div className='footer pt-3 mdb-color lighten-3'>\n              <MDBRow className='d-flex justify-content-center'>\n                <p className='font-small white-text mb-2 pt-3'>\n                  or Sign up with\n                </p>\n              </MDBRow>\n              <MDBRow className='mt-2 mb-3 d-flex justify-content-center'>\n                <a href='#!' className='fa-lg p-2 m-2 fb-ic'>\n                  <MDBIcon\n                    icon='facebook-f'\n                    fab\n                    size='lg'\n                    className='white-text'\n                  ></MDBIcon>\n                </a>\n                <a href='#!' className='fa-lg p-2 m-2 tw-ic'>\n                  <MDBIcon\n                    fab\n                    icon='twitter'\n                    size='lg'\n                    className='white-text'\n                  ></MDBIcon>\n                </a>\n                <a href='#!' className='fa-lg p-2 m-2 gplus-ic'>\n                  <MDBIcon\n                    fab\n                    icon='google-plus-g'\n                    size='lg'\n                    className='white-text'\n                  ></MDBIcon>\n                </a>\n              </MDBRow>\n            </div>\n          </MDBCard>\n        </MDBCol>\n      </MDBRow>\n    </MDBContainer>\n      // <form onSubmit={this.onSubmit}>\n      //   <input\n      //     name=\"username\"\n      //     value={username}\n      //     onChange={this.onChange}\n      //     type=\"text\"\n      //     placeholder=\"Full Name\"\n      //   />\n      //   <input\n      //     name=\"email\"\n      //     value={email}\n      //     onChange={this.onChange}\n      //     type=\"text\"\n      //     placeholder=\"Email Address\"\n      //   />\n      //   <input\n      //     name=\"passwordOne\"\n      //     value={passwordOne}\n      //     onChange={this.onChange}\n      //     type=\"password\"\n      //     placeholder=\"Password\"\n      //   />\n      //   <input\n      //     name=\"passwordTwo\"\n      //     value={passwordTwo}\n      //     onChange={this.onChange}\n      //     type=\"password\"\n      //     placeholder=\"Confirm Password\"\n      //   />\n      //   <label>\n      //     Admin:\n      //     <input\n      //       name=\"isAdmin\"\n      //       type=\"checkbox\"\n      //       checked={isAdmin}\n      //       onChange={this.onChangeCheckbox}\n      //     />\n      //   </label>\n      //   <button disabled={isInvalid} type=\"submit\">\n      //     Sign Up\n      //   </button>\n\n      //   {error && <p>{error.message}</p>}\n      // </form>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };\n"]},"metadata":{},"sourceType":"module"}